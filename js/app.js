(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

var _modulesCurrencyRates = require('./modules/currency-rates');

var _modulesCurrencyRates2 = _interopRequireDefault(_modulesCurrencyRates);

document.querySelectorAll("[data-currency-conversion]").forEach(function (form) {

	form.addEventListener("submit", function (e) {

		var initialCurrencyAmount = this.querySelector("[data-initial-currency]").value;
		var initialCurrencyType = this.querySelector("[data-initial-currency-type]").value;
		var convertedCurrencyAmount = this.querySelector("[data-converted-currency]").value;
		var convertedCurrencyType = this.querySelector("[data-converted-currency-type]").value;
		var convertedCurrencyResult = 0;

		if (initialCurrencyType !== convertedCurrencyType) {

			convertedCurrencyResult = (0, _modulesCurrencyRates2["default"])({
				initialCurrencyAmount: initialCurrencyAmount,
				initialCurrencyType: initialCurrencyType,
				convertedCurrencyAmount: convertedCurrencyAmount,
				convertedCurrencyType: convertedCurrencyType
			}).then(function (data) {

				var poundsInDollars = 1 / data.usdGBP;
				var bitcoinsInDollars = initialCurrencyAmount * data.bitcoinUSD;
				var dollarsInBitcoins = 1 / data.bitcoinUSD;

				if (initialCurrencyType === "XBT" && convertedCurrencyType === "GBP") {

					var bitcoinsInPounds = bitcoinsInDollars / poundsInDollars;

					return bitcoinsInPounds;
				}

				if (initialCurrencyType === "GBP" && convertedCurrencyType === "XBT") {

					var poundsInBitcoins = dollarsInBitcoins / data.usdGBP;

					return poundsInBitcoins;
				}
			}).then(function (convertedCurrencyTotal) {
				document.querySelector("[data-converted-currency]").value = convertedCurrencyTotal;
			});
		} else {
			document.querySelector("[data-converted-currency]").value = initialCurrencyAmount;
		}

		e.preventDefault();
	});

	form.querySelectorAll("[data-linked-select]").forEach(function (selectBox) {

		selectBox.addEventListener("change", function () {
			var _this = this;

			var selectID = this.attributes.id.value;

			form.querySelectorAll('[data-linked-to="' + selectID + '"]').forEach(function (element) {
				element.innerText = 'Amount in ' + _this.value;

				if (element.hasAttribute("placeholder")) {
					element.attributes.placeholder.value = 'Amount in ' + _this.value;
				}
			});
		});
	});
});

},{"./modules/currency-rates":2}],2:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = getCurrencyRates;

function getCurrencyRates(conversionData) {

	// Check if either currency is BitCoin

	if (conversionData.initialCurrencyType === "XBT" || conversionData.convertedCurrencyType === "XBT") {
		var _ret = (function () {

			// Use CoinDesk API to retrieve the current Bitcoin to US Dollar exchange rate

			var bitcoinUSD = fetch('https://api.coindesk.com/v1/bpi/currentprice/usd.json').then(function (response) {
				return response.json();
			}).then(function (data) {
				return data.bpi.USD.rate_float;
			});

			// Use OpenExchangeRates API to retrieve the current US Dollar to Great British Pound exchange rate

			var usdGBP = fetch('https://openexchangerates.org/api/latest.json?app_id=00b59e9c79ba43c887c43fb006ba1d07').then(function (response) {
				return response.json();
			}).then(function (data) {
				return data.rates.GBP;
			});

			// Create a blank object with named attributes to store the exchange rates in

			var combinedData = { "bitcoinUSD": {}, "usdGBP": {} };

			// Combine the two Fetch API requests into a single promise. The 'then' function which runs when the promise is resolved will only run if both APIs gave a response.

			var totalData = Promise.all([bitcoinUSD, usdGBP]).then(function (values) {
				combinedData["bitcoinUSD"] = values[0];
				combinedData["usdGBP"] = values[1];

				return combinedData;
			});

			return {
				v: totalData
			};
		})();

		if (typeof _ret === "object") return _ret.v;
	}
}

module.exports = exports["default"];

},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIvVXNlcnMvamFtZXNob3dlbGwvU2l0ZXMvYml0Y29pbi1jdXJyZW5jeS1jb252ZXJ0ZXIvc3JjL2pzL2FwcC5qcyIsIi9Vc2Vycy9qYW1lc2hvd2VsbC9TaXRlcy9iaXRjb2luLWN1cnJlbmN5LWNvbnZlcnRlci9zcmMvanMvbW9kdWxlcy9jdXJyZW5jeS1yYXRlcy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7b0NDQTZCLDBCQUEwQjs7OztBQUV2RCxRQUFRLENBQUMsZ0JBQWdCLENBQUMsNEJBQTRCLENBQUMsQ0FBQyxPQUFPLENBQUMsVUFBUyxJQUFJLEVBQUM7O0FBRTdFLEtBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxRQUFRLEVBQUUsVUFBUyxDQUFDLEVBQUM7O0FBRTFDLE1BQU0scUJBQXFCLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQyx5QkFBeUIsQ0FBQyxDQUFDLEtBQUssQ0FBQztBQUNsRixNQUFNLG1CQUFtQixHQUFHLElBQUksQ0FBQyxhQUFhLENBQUMsOEJBQThCLENBQUMsQ0FBQyxLQUFLLENBQUM7QUFDckYsTUFBTSx1QkFBdUIsR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDLDJCQUEyQixDQUFDLENBQUMsS0FBSyxDQUFDO0FBQ3RGLE1BQU0scUJBQXFCLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQyxnQ0FBZ0MsQ0FBQyxDQUFDLEtBQUssQ0FBQztBQUN6RixNQUFJLHVCQUF1QixHQUFHLENBQUMsQ0FBQzs7QUFFaEMsTUFBSSxtQkFBbUIsS0FBSyxxQkFBcUIsRUFBQzs7QUFFakQsMEJBQXVCLEdBQUcsdUNBQWlCO0FBQzFDLHlCQUFxQixFQUFFLHFCQUFxQjtBQUM1Qyx1QkFBbUIsRUFBRSxtQkFBbUI7QUFDeEMsMkJBQXVCLEVBQUUsdUJBQXVCO0FBQ2hELHlCQUFxQixFQUFFLHFCQUFxQjtJQUM1QyxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQVMs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QUUsRUFBQyxRQUFRLEVBQUMsRUFBRSxFQUFDLENBQUM7Ozs7QUFNbkQsT0FBTSxTQUFTLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLFVBQVUsRUFBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFTLE1BQU0sRUFBQztBQUN2RSxnQkFBWSxDQUFDLFlBQVksQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUN2QyxnQkFBWSxDQUFDLFFBQVEsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQzs7QUFFbkMsV0FBTyxZQUFZLENBQUM7SUFDcEIsQ0FBQyxDQUFDOztBQUVIO09BQU8sU0FBUztLQUFDOzs7O0VBR2pCO0NBRUQiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiaW1wb3J0IGdldEN1cnJlbmN5UmF0ZXMgZnJvbSAnLi9tb2R1bGVzL2N1cnJlbmN5LXJhdGVzJztcblxuZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIltkYXRhLWN1cnJlbmN5LWNvbnZlcnNpb25dXCIpLmZvckVhY2goZnVuY3Rpb24oZm9ybSl7XG5cblx0Zm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGZ1bmN0aW9uKGUpe1xuXG5cdFx0Y29uc3QgaW5pdGlhbEN1cnJlbmN5QW1vdW50ID0gdGhpcy5xdWVyeVNlbGVjdG9yKFwiW2RhdGEtaW5pdGlhbC1jdXJyZW5jeV1cIikudmFsdWU7XG5cdFx0Y29uc3QgaW5pdGlhbEN1cnJlbmN5VHlwZSA9IHRoaXMucXVlcnlTZWxlY3RvcihcIltkYXRhLWluaXRpYWwtY3VycmVuY3ktdHlwZV1cIikudmFsdWU7XG5cdFx0Y29uc3QgY29udmVydGVkQ3VycmVuY3lBbW91bnQgPSB0aGlzLnF1ZXJ5U2VsZWN0b3IoXCJbZGF0YS1jb252ZXJ0ZWQtY3VycmVuY3ldXCIpLnZhbHVlO1xuXHRcdGNvbnN0IGNvbnZlcnRlZEN1cnJlbmN5VHlwZSA9IHRoaXMucXVlcnlTZWxlY3RvcihcIltkYXRhLWNvbnZlcnRlZC1jdXJyZW5jeS10eXBlXVwiKS52YWx1ZTtcblx0XHRsZXQgY29udmVydGVkQ3VycmVuY3lSZXN1bHQgPSAwO1xuXG5cdFx0aWYgKGluaXRpYWxDdXJyZW5jeVR5cGUgIT09IGNvbnZlcnRlZEN1cnJlbmN5VHlwZSl7XG5cblx0XHRcdGNvbnZlcnRlZEN1cnJlbmN5UmVzdWx0ID0gZ2V0Q3VycmVuY3lSYXRlcyh7XG5cdFx0XHRcdGluaXRpYWxDdXJyZW5jeUFtb3VudDogaW5pdGlhbEN1cnJlbmN5QW1vdW50LFxuXHRcdFx0XHRpbml0aWFsQ3VycmVuY3lUeXBlOiBpbml0aWFsQ3VycmVuY3lUeXBlLFxuXHRcdFx0XHRjb252ZXJ0ZWRDdXJyZW5jeUFtb3VudDogY29udmVydGVkQ3VycmVuY3lBbW91bnQsXG5cdFx0XHRcdGNvbnZlcnRlZEN1cnJlbmN5VHlwZTogY29udmVydGVkQ3VycmVuY3lUeXBlXG5cdFx0XHR9KS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xuXG5cdFx0XHRcdGNvbnN0IHBvdW5kc0luRG9sbGFycyA9IDEgLyBkYXRhLnVzZEdCUDtcblx0XHRcdFx0Y29uc3QgYml0Y29pbnNJbkRvbGxhcnMgPSBpbml0aWFsQ3VycmVuY3lBbW91bnQgKiBkYXRhLmJpdGNvaW5VU0Q7XG5cdFx0XHRcdGNvbnN0IGRvbGxhcnNJbkJpdGNvaW5zID0gMSAvIGRhdGEuYml0Y29pblVTRDtcblxuXG5cdFx0XHRcdGlmIChpbml0aWFsQ3VycmVuY3lUeXBlID09PSBcIlhCVFwiICYmIGNvbnZlcnRlZEN1cnJlbmN5VHlwZSA9PT0gXCJHQlBcIikge1xuXG5cdFx0XHRcdFx0Y29uc3QgYml0Y29pbnNJblBvdW5kcyA9IGJpdGNvaW5zSW5Eb2xsYXJzIC8gcG91bmRzSW5Eb2xsYXJzO1xuXG5cdFx0XHRcdFx0cmV0dXJuIGJpdGNvaW5zSW5Qb3VuZHM7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoaW5pdGlhbEN1cnJlbmN5VHlwZSA9PT0gXCJHQlBcIiAmJiBjb252ZXJ0ZWRDdXJyZW5jeVR5cGUgPT09IFwiWEJUXCIpIHtcblxuXHRcdFx0XHRcdGNvbnN0IHBvdW5kc0luQml0Y29pbnMgPSBkb2xsYXJzSW5CaXRjb2lucyAvIGRhdGEudXNkR0JQO1xuXG5cdFx0XHRcdFx0cmV0dXJuIHBvdW5kc0luQml0Y29pbnM7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHR9KS50aGVuKGZ1bmN0aW9uKGNvbnZlcnRlZEN1cnJlbmN5VG90YWwpe1xuXHRcdFx0XHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiW2RhdGEtY29udmVydGVkLWN1cnJlbmN5XVwiKS52YWx1ZSA9IGNvbnZlcnRlZEN1cnJlbmN5VG90YWw7XG5cdFx0XHR9KTtcblxuXHRcdH0gZWxzZXtcblx0XHRcdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJbZGF0YS1jb252ZXJ0ZWQtY3VycmVuY3ldXCIpLnZhbHVlID0gaW5pdGlhbEN1cnJlbmN5QW1vdW50O1xuXHRcdH1cblxuXG5cblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdH0pO1xuXG5cdGZvcm0ucXVlcnlTZWxlY3RvckFsbChcIltkYXRhLWxpbmtlZC1zZWxlY3RdXCIpLmZvckVhY2goZnVuY3Rpb24oc2VsZWN0Qm94KXtcblxuXHRcdHNlbGVjdEJveC5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIGZ1bmN0aW9uKCl7XG5cdFx0XHRsZXQgc2VsZWN0SUQgPSB0aGlzLmF0dHJpYnV0ZXMuaWQudmFsdWU7XG5cblx0XHRcdGZvcm0ucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtbGlua2VkLXRvPVwiJytzZWxlY3RJRCsnXCJdJykuZm9yRWFjaCgoZWxlbWVudCk9Pntcblx0XHRcdFx0ZWxlbWVudC5pbm5lclRleHQgPSAnQW1vdW50IGluICcrdGhpcy52YWx1ZTtcblxuXHRcdFx0XHRpZiAoZWxlbWVudC5oYXNBdHRyaWJ1dGUoXCJwbGFjZWhvbGRlclwiKSkge1xuXHRcdFx0XHRcdGVsZW1lbnQuYXR0cmlidXRlcy5wbGFjZWhvbGRlci52YWx1ZSA9ICdBbW91bnQgaW4gJyt0aGlzLnZhbHVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdH0pO1xuXHRcdH0pO1xuXG5cdH0pO1xufSk7IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0Q3VycmVuY3lSYXRlcyhjb252ZXJzaW9uRGF0YSkge1xuXG5cdC8vIENoZWNrIGlmIGVpdGhlciBjdXJyZW5jeSBpcyBCaXRDb2luXG5cblx0aWYgKCAoY29udmVyc2lvbkRhdGEuaW5pdGlhbEN1cnJlbmN5VHlwZSA9PT0gXCJYQlRcIiB8fCAgY29udmVyc2lvbkRhdGEuY29udmVydGVkQ3VycmVuY3lUeXBlID09PSBcIlhCVFwiKSkge1xuXG5cblx0XHQvLyBVc2UgQ29pbkRlc2sgQVBJIHRvIHJldHJpZXZlIHRoZSBjdXJyZW50IEJpdGNvaW4gdG8gVVMgRG9sbGFyIGV4Y2hhbmdlIHJhdGVcblx0XHRcblx0XHRjb25zdCBiaXRjb2luVVNEID0gZmV0Y2goJ2h0dHBzOi8vYXBpLmNvaW5kZXNrLmNvbS92MS9icGkvY3VycmVudHByaWNlL3VzZC5qc29uJykudGhlbihmdW5jdGlvbihyZXNwb25zZSl7IFxuXHRcdFx0cmV0dXJuIHJlc3BvbnNlLmpzb24oKVxuXHRcdH0pLnRoZW4oZnVuY3Rpb24oZGF0YSl7XG5cdFx0XHRyZXR1cm4gZGF0YS5icGkuVVNELnJhdGVfZmxvYXQ7XG5cdFx0fSk7XG5cdFxuXG5cdFx0Ly8gVXNlIE9wZW5FeGNoYW5nZVJhdGVzIEFQSSB0byByZXRyaWV2ZSB0aGUgY3VycmVudCBVUyBEb2xsYXIgdG8gR3JlYXQgQnJpdGlzaCBQb3VuZCBleGNoYW5nZSByYXRlXG5cblx0XHRjb25zdCB1c2RHQlAgPSBmZXRjaCgnaHR0cHM6Ly9vcGVuZXhjaGFuZ2VyYXRlcy5vcmcvYXBpL2xhdGVzdC5qc29uP2FwcF9pZD0wMGI1OWU5Yzc5YmE0M2M4ODdjNDNmYjAwNmJhMWQwNycpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xuXHRcdFx0cmV0dXJuIHJlc3BvbnNlLmpzb24oKVxuXHRcdH0pLnRoZW4oZnVuY3Rpb24oZGF0YSl7XG5cdFx0XHRyZXR1cm4gZGF0YS5yYXRlcy5HQlA7XG5cdFx0fSk7XG5cdFxuXG5cdFx0Ly8gQ3JlYXRlIGEgYmxhbmsgb2JqZWN0IHdpdGggbmFtZWQgYXR0cmlidXRlcyB0byBzdG9yZSB0aGUgZXhjaGFuZ2UgcmF0ZXMgaW5cblxuXHRcdGNvbnN0IGNvbWJpbmVkRGF0YSA9IHtcImJpdGNvaW5VU0RcIjp7fSxcInVzZEdCUFwiOnt9fTtcblx0XG5cblxuXHRcdC8vIENvbWJpbmUgdGhlIHR3byBGZXRjaCBBUEkgcmVxdWVzdHMgaW50byBhIHNpbmdsZSBwcm9taXNlLiBUaGUgJ3RoZW4nIGZ1bmN0aW9uIHdoaWNoIHJ1bnMgd2hlbiB0aGUgcHJvbWlzZSBpcyByZXNvbHZlZCB3aWxsIG9ubHkgcnVuIGlmIGJvdGggQVBJcyBnYXZlIGEgcmVzcG9uc2UuXG5cblx0XHRjb25zdCB0b3RhbERhdGEgPSBQcm9taXNlLmFsbChbYml0Y29pblVTRCx1c2RHQlBdKS50aGVuKGZ1bmN0aW9uKHZhbHVlcyl7XG5cdFx0XHRjb21iaW5lZERhdGFbXCJiaXRjb2luVVNEXCJdID0gdmFsdWVzWzBdO1xuXHRcdFx0Y29tYmluZWREYXRhW1widXNkR0JQXCJdID0gdmFsdWVzWzFdO1xuXG5cdFx0XHRyZXR1cm4gY29tYmluZWREYXRhO1xuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIHRvdGFsRGF0YTtcblxuXG5cdH1cblxufVxuIl19
